MESSAGES = {
    'ru': {
        # Start command
        'start_greeting': (
            '–ü—Ä–∏–≤–µ—Ç, {name}!\n\n'
            '‚ôü –Ø –ø–æ–º–æ–≥—É –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —à–∞—Ö–º–∞—Ç–Ω—É—é –ø–æ–∑–∏—Ü–∏—é –ø–æ —Ñ–æ—Ç–æ.\n\n'
            '–í—ã–±–µ—Ä–∏—Ç–µ —è–∑—ã–∫:'
        ),
        'language_selected': 'üá∑üá∫ –í—ã–±—Ä–∞–Ω —Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫',

        # Help
        'help_text': (
            '‚ôü <b>–ö–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –±–æ—Ç–æ–º:</b>\n\n'
            '1. –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Ñ–æ—Ç–æ —à–∞—Ö–º–∞—Ç–Ω–æ–π –ø–æ–∑–∏—Ü–∏–∏\n'
            '2. –ü–æ–ª—É—á–∏—Ç–µ –∞–Ω–∞–ª–∏–∑ –ª—É—á—à–µ–≥–æ —Ö–æ–¥–∞ —Å –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ–º\n\n'
            '<b>–ö–æ–º–∞–Ω–¥—ã:</b>\n'
            '/start - –ù–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É\n'
            '/help - –ü–æ–º–æ—â—å\n'
            '/language - –°–º–µ–Ω–∏—Ç—å —è–∑—ã–∫\n\n'
            '‚ö†Ô∏è <b>Disclaimer:</b> –ë–æ—Ç –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –æ–±—É—á–µ–Ω–∏—è –∏ –∞–Ω–∞–ª–∏–∑–∞. '
            '–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤–æ –≤—Ä–µ–º—è –æ–Ω–ª–∞–π–Ω-–ø–∞—Ä—Ç–∏–π –º–æ–∂–µ—Ç –Ω–∞—Ä—É—à–∞—Ç—å –ø—Ä–∞–≤–∏–ª–∞ –∏–≥—Ä–æ–≤—ã—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º.'
        ),

        # Analysis
        'processing': '‚è≥ –ê–Ω–∞–ª–∏–∑–∏—Ä—É—é –ø–æ–∑–∏—Ü–∏—é...',
        'analysis_result': (
            '‚ôü <b>–ü–æ–∑–∏—Ü–∏—è –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞</b>\n\n'
            '<b>–õ—É—á—à–∏–π —Ö–æ–¥:</b> {move}\n'
            '<b>–û—Ü–µ–Ω–∫–∞ –ø–æ–∑–∏—Ü–∏–∏:</b> {evaluation}\n\n'
            '<b>–ü–æ—á–µ–º—É —ç—Ç–æ—Ç —Ö–æ–¥:</b>\n{explanation}'
        ),

        # Errors
        'error_image_too_large': '‚ùå –§–∞–π–ª —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π. –ú–∞–∫—Å–∏–º—É–º 10 –ú–ë.',
        'error_invalid_format': '‚ùå –ù–µ–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–π —Ñ–æ—Ä–º–∞—Ç. –û—Ç–ø—Ä–∞–≤—å—Ç–µ JPG –∏–ª–∏ PNG.',
        'error_no_board': '‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å —Ä–∞—Å–ø–æ–∑–Ω–∞—Ç—å —à–∞—Ö–º–∞—Ç–Ω—É—é –¥–æ—Å–∫—É –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–∏. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥–æ–µ —Ñ–æ—Ç–æ.',
        'error_invalid_fen': '‚ùå –†–∞—Å–ø–æ–∑–Ω–∞–Ω–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥–æ–µ —Ñ–æ—Ç–æ.',
        'error_analysis_failed': '‚ùå –û—à–∏–±–∫–∞ –∞–Ω–∞–ª–∏–∑–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.',
        'error_general': '‚ùå –ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.',

        # Evaluation
        'eval_white_winning': '(–±–æ–ª—å—à–æ–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ –±–µ–ª—ã—Ö)',
        'eval_white_advantage': '(–Ω–µ–±–æ–ª—å—à–æ–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ –±–µ–ª—ã—Ö)',
        'eval_equal': '(—Ä–∞–≤–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è)',
        'eval_black_advantage': '(–Ω–µ–±–æ–ª—å—à–æ–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ —á–µ—Ä–Ω—ã—Ö)',
        'eval_black_winning': '(–±–æ–ª—å—à–æ–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ —á–µ—Ä–Ω—ã—Ö)',
        'eval_mate_in': '(–º–∞—Ç –≤ {moves})',

        # Buttons
        'btn_russian': 'üá∑üá∫ –†—É—Å—Å–∫–∏–π',
        'btn_uzbek': 'üá∫üáø O\'zbekcha',
    },
    'uz': {
        # Start command
        'start_greeting': (
            'Salom, {name}!\n\n'
            '‚ôü Men rasm orqali shaxmat pozitsiyasini tahlil qilishga yordam beraman.\n\n'
            'Tilni tanlang:'
        ),
        'language_selected': 'üá∫üáø O\'zbek tili tanlandi',

        # Help
        'help_text': (
            '‚ôü <b>Botdan qanday foydalanish:</b>\n\n'
            '1. Shaxmat pozitsiyasi rasmini yuboring\n'
            '2. Eng yaxshi yurish tahlilini tushuntirish bilan oling\n\n'
            '<b>Buyruqlar:</b>\n'
            '/start - Ishni boshlash\n'
            '/help - Yordam\n'
            '/language - Tilni o\'zgartirish\n\n'
            '‚ö†Ô∏è <b>Ogohlantirish:</b> Bot ta\'lim va tahlil uchun mo\'ljallangan. '
            'Onlayn o\'yinlar paytida foydalanish o\'yin platformalari qoidalarini buzishi mumkin.'
        ),

        # Analysis
        'processing': '‚è≥ Pozitsiyani tahlil qilyapman...',
        'analysis_result': (
            '‚ôü <b>Pozitsiya tahlil qilindi</b>\n\n'
            '<b>Eng yaxshi yurish:</b> {move}\n'
            '<b>Pozitsiya bahosi:</b> {evaluation}\n\n'
            '<b>Nima uchun bu yurish:</b>\n{explanation}'
        ),

        # Errors
        'error_image_too_large': '‚ùå Fayl juda katta. Maksimum 10 MB.',
        'error_invalid_format': '‚ùå Qo\'llab-quvvatlanmaydigan format. JPG yoki PNG yuboring.',
        'error_no_board': '‚ùå Rasmda shaxmat taxtasini aniqlab bo\'lmadi. Boshqa rasm yuboring.',
        'error_invalid_fen': '‚ùå Aniqlangan pozitsiya noto\'g\'ri. Boshqa rasm yuboring.',
        'error_analysis_failed': '‚ùå Tahlil xatosi. Keyinroq urinib ko\'ring.',
        'error_general': '‚ùå Xatolik yuz berdi. Qaytadan urinib ko\'ring.',

        # Evaluation
        'eval_white_winning': '(oqlarning katta ustunligi)',
        'eval_white_advantage': '(oqlarning ozgina ustunligi)',
        'eval_equal': '(teng pozitsiya)',
        'eval_black_advantage': '(qoralarning ozgina ustunligi)',
        'eval_black_winning': '(qoralarning katta ustunligi)',
        'eval_mate_in': '({moves} yurishda mat)',

        # Buttons
        'btn_russian': 'üá∑üá∫ Ruscha',
        'btn_uzbek': 'üá∫üáø O\'zbekcha',
    }
}


def get_message(lang: str, key: str, **kwargs) -> str:
    """
    Get localized message

    Args:
        lang: Language code ('ru' or 'uz')
        key: Message key
        **kwargs: Format arguments

    Returns:
        Localized message string
    """
    message = MESSAGES.get(lang, MESSAGES['ru']).get(key, MESSAGES['ru'].get(key, ''))
    return message.format(**kwargs) if kwargs else message
